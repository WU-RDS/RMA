<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Data handling | Retail Marketing Analytics 2024</title>
  <meta name="description" content="An Introduction to Data Analytics Using R" />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Data handling | Retail Marketing Analytics 2024" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="An Introduction to Data Analytics Using R" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Data handling | Retail Marketing Analytics 2024" />
  
  <meta name="twitter:description" content="An Introduction to Data Analytics Using R" />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="prev" href="getting-started-with-r.html"/>
<link rel="next" href="summarizing-data.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">RMA 2024</a></strong></li>

<li class="divider"></li>
<li class="part"><span><b>I Course outline</b></span></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome!</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#course-structure"><i class="fa fa-check"></i>Course structure</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#contents"><i class="fa fa-check"></i>Contents</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#grading"><i class="fa fa-check"></i>Grading</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#course-materials"><i class="fa fa-check"></i>Course materials</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#main-reference"><i class="fa fa-check"></i>Main reference</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#further-readings"><i class="fa fa-check"></i>Further readings</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#discussion-forum"><i class="fa fa-check"></i>Discussion forum</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#other-web-resources"><i class="fa fa-check"></i>Other web-resources</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#contact"><i class="fa fa-check"></i>Contact</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Lecture notes</b></span></li>
<li class="chapter" data-level="1" data-path="preliminaries.html"><a href="preliminaries.html"><i class="fa fa-check"></i><b>1</b> Preliminaries</a>
<ul>
<li class="chapter" data-level="1.1" data-path="preliminaries.html"><a href="preliminaries.html#marketing-foundations-recap"><i class="fa fa-check"></i><b>1.1</b> Marketing foundations (recap)</a></li>
<li class="chapter" data-level="1.2" data-path="preliminaries.html"><a href="preliminaries.html#the-research-process"><i class="fa fa-check"></i><b>1.2</b> The research process</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="preliminaries.html"><a href="preliminaries.html#research-question-and-hypothesis"><i class="fa fa-check"></i><b>1.2.1</b> Research question and hypothesis</a></li>
<li class="chapter" data-level="1.2.2" data-path="preliminaries.html"><a href="preliminaries.html#choosing-a-research-design"><i class="fa fa-check"></i><b>1.2.2</b> Choosing a research design</a></li>
<li class="chapter" data-level="1.2.3" data-path="preliminaries.html"><a href="preliminaries.html#collecting-data"><i class="fa fa-check"></i><b>1.2.3</b> Collecting data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preliminaries.html"><a href="preliminaries.html#learning-check"><i class="fa fa-check"></i>Learning check</a></li>
<li class="chapter" data-level="" data-path="preliminaries.html"><a href="preliminaries.html#references"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html"><i class="fa fa-check"></i><b>2</b> Getting started with R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#how-to-download-and-install-r-and-rstudio"><i class="fa fa-check"></i><b>2.1</b> How to download and install R and RStudio</a></li>
<li class="chapter" data-level="2.2" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#the-r-studio-interface"><i class="fa fa-check"></i><b>2.2</b> The R Studio interface</a></li>
<li class="chapter" data-level="2.3" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#functions"><i class="fa fa-check"></i><b>2.3</b> Functions</a></li>
<li class="chapter" data-level="2.4" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#packages"><i class="fa fa-check"></i><b>2.4</b> Packages</a></li>
<li class="chapter" data-level="2.5" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#a-typical-r-session"><i class="fa fa-check"></i><b>2.5</b> A typical R session</a></li>
<li class="chapter" data-level="2.6" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#getting-help"><i class="fa fa-check"></i><b>2.6</b> Getting help</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-handling.html"><a href="data-handling.html"><i class="fa fa-check"></i><b>3</b> Data handling</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-handling.html"><a href="data-handling.html#basic-data-handling"><i class="fa fa-check"></i><b>3.1</b> Basic data handling</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data-handling.html"><a href="data-handling.html#creating-objects"><i class="fa fa-check"></i><b>3.1.1</b> Creating objects</a></li>
<li class="chapter" data-level="3.1.2" data-path="data-handling.html"><a href="data-handling.html#data-types"><i class="fa fa-check"></i><b>3.1.2</b> Data types</a></li>
<li class="chapter" data-level="3.1.3" data-path="data-handling.html"><a href="data-handling.html#data-structures"><i class="fa fa-check"></i><b>3.1.3</b> Data structures</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-handling.html"><a href="data-handling.html#data-import-and-export"><i class="fa fa-check"></i><b>3.2</b> Data import and export</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-handling.html"><a href="data-handling.html#getting-data-for-this-course"><i class="fa fa-check"></i><b>3.2.1</b> Getting data for this course</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-handling.html"><a href="data-handling.html#export-data"><i class="fa fa-check"></i><b>3.2.2</b> Export data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data-handling.html"><a href="data-handling.html#learning-check-1"><i class="fa fa-check"></i>Learning check</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="summarizing-data.html"><a href="summarizing-data.html"><i class="fa fa-check"></i><b>4</b> Summarizing data</a>
<ul>
<li class="chapter" data-level="4.1" data-path="summarizing-data.html"><a href="summarizing-data.html#summary-statistics"><i class="fa fa-check"></i><b>4.1</b> Summary statistics</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="summarizing-data.html"><a href="summarizing-data.html#categorical-variables"><i class="fa fa-check"></i><b>4.1.1</b> Categorical variables</a></li>
<li class="chapter" data-level="4.1.2" data-path="summarizing-data.html"><a href="summarizing-data.html#continuous-variables"><i class="fa fa-check"></i><b>4.1.2</b> Continuous variables</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="summarizing-data.html"><a href="summarizing-data.html#data-visualization"><i class="fa fa-check"></i><b>4.2</b> Data visualization</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="summarizing-data.html"><a href="summarizing-data.html#categorical-variables-1"><i class="fa fa-check"></i><b>4.2.1</b> Categorical variables</a></li>
<li class="chapter" data-level="4.2.2" data-path="summarizing-data.html"><a href="summarizing-data.html#continuous-variables-1"><i class="fa fa-check"></i><b>4.2.2</b> Continuous variables</a></li>
<li class="chapter" data-level="4.2.3" data-path="summarizing-data.html"><a href="summarizing-data.html#saving-plots"><i class="fa fa-check"></i><b>4.2.3</b> Saving plots</a></li>
<li class="chapter" data-level="4.2.4" data-path="summarizing-data.html"><a href="summarizing-data.html#ggplot-extensions"><i class="fa fa-check"></i><b>4.2.4</b> ggplot extensions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="summarizing-data.html"><a href="summarizing-data.html#learning-check-2"><i class="fa fa-check"></i>Learning check</a></li>
<li class="chapter" data-level="" data-path="summarizing-data.html"><a href="summarizing-data.html#references-1"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="statistical-inference.html"><a href="statistical-inference.html"><i class="fa fa-check"></i><b>5</b> Statistical inference</a>
<ul>
<li class="chapter" data-level="5.1" data-path="statistical-inference.html"><a href="statistical-inference.html#if-we-knew-it-all"><i class="fa fa-check"></i><b>5.1</b> If we knew it all</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="statistical-inference.html"><a href="statistical-inference.html#sampling-from-a-known-population"><i class="fa fa-check"></i><b>5.1.1</b> Sampling from a known population</a></li>
<li class="chapter" data-level="5.1.2" data-path="statistical-inference.html"><a href="statistical-inference.html#standard-error-of-the-mean"><i class="fa fa-check"></i><b>5.1.2</b> Standard error of the mean</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="statistical-inference.html"><a href="statistical-inference.html#the-central-limit-theorem"><i class="fa fa-check"></i><b>5.2</b> The Central Limit Theorem</a></li>
<li class="chapter" data-level="5.3" data-path="statistical-inference.html"><a href="statistical-inference.html#using-what-we-actually-know"><i class="fa fa-check"></i><b>5.3</b> Using what we actually know</a></li>
<li class="chapter" data-level="5.4" data-path="statistical-inference.html"><a href="statistical-inference.html#confidence-intervals-for-the-sample-mean"><i class="fa fa-check"></i><b>5.4</b> Confidence Intervals for the Sample Mean</a></li>
<li class="chapter" data-level="5.5" data-path="statistical-inference.html"><a href="statistical-inference.html#null-hypothesis-statistical-testing-nhst"><i class="fa fa-check"></i><b>5.5</b> Null Hypothesis Statistical Testing (NHST)</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="statistical-inference.html"><a href="statistical-inference.html#the-null-hypothesis"><i class="fa fa-check"></i><b>5.5.1</b> The null hypothesis</a></li>
<li class="chapter" data-level="5.5.2" data-path="statistical-inference.html"><a href="statistical-inference.html#statistical-inference-on-a-sample"><i class="fa fa-check"></i><b>5.5.2</b> Statistical inference on a sample</a></li>
<li class="chapter" data-level="5.5.3" data-path="statistical-inference.html"><a href="statistical-inference.html#nhst-considerations"><i class="fa fa-check"></i><b>5.5.3</b> NHST considerations</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="statistical-inference.html"><a href="statistical-inference.html#learning-check-3"><i class="fa fa-check"></i>Learning check</a></li>
<li class="chapter" data-level="" data-path="statistical-inference.html"><a href="statistical-inference.html#references-2"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="supervised-learning.html"><a href="supervised-learning.html"><i class="fa fa-check"></i><b>6</b> Supervised learning</a>
<ul>
<li class="chapter" data-level="6.1" data-path="supervised-learning.html"><a href="supervised-learning.html#linear-regression"><i class="fa fa-check"></i><b>6.1</b> Linear regression</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="supervised-learning.html"><a href="supervised-learning.html#correlation"><i class="fa fa-check"></i><b>6.1.1</b> Correlation</a></li>
<li class="chapter" data-level="6.1.2" data-path="supervised-learning.html"><a href="supervised-learning.html#regression-analysis"><i class="fa fa-check"></i><b>6.1.2</b> Regression analysis</a></li>
<li class="chapter" data-level="6.1.3" data-path="supervised-learning.html"><a href="supervised-learning.html#categorical-predictors"><i class="fa fa-check"></i><b>6.1.3</b> Categorical predictors</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="supervised-learning.html"><a href="supervised-learning.html#logistic-regression"><i class="fa fa-check"></i><b>6.2</b> Logistic regression</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="supervised-learning.html"><a href="supervised-learning.html#motivation-and-intuition"><i class="fa fa-check"></i><b>6.2.1</b> Motivation and intuition</a></li>
<li class="chapter" data-level="6.2.2" data-path="supervised-learning.html"><a href="supervised-learning.html#technical-details-of-the-model"><i class="fa fa-check"></i><b>6.2.2</b> Technical details of the model</a></li>
<li class="chapter" data-level="6.2.3" data-path="supervised-learning.html"><a href="supervised-learning.html#estimation-in-r"><i class="fa fa-check"></i><b>6.2.3</b> Estimation in R</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="supervised-learning.html"><a href="supervised-learning.html#learning-check-4"><i class="fa fa-check"></i>Learning check</a></li>
<li class="chapter" data-level="" data-path="supervised-learning.html"><a href="supervised-learning.html#references-3"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html"><i class="fa fa-check"></i><b>7</b> Unsupervised learning</a>
<ul>
<li class="chapter" data-level="7.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#principal-component-analysis"><i class="fa fa-check"></i><b>7.1</b> Principal component analysis</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#introduction-1"><i class="fa fa-check"></i><b>7.1.1</b> Introduction</a></li>
<li class="chapter" data-level="7.1.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#steps-in-factor-analysis"><i class="fa fa-check"></i><b>7.1.2</b> Steps in factor analysis</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#cluster-analysis"><i class="fa fa-check"></i><b>7.2</b> Cluster analysis</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#k-means"><i class="fa fa-check"></i><b>7.2.1</b> K-Means</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#learning-check-5"><i class="fa fa-check"></i>Learning check</a></li>
<li class="chapter" data-level="" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#references-4"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="part"><span><b>III Assignments</b></span></li>
<li class="chapter" data-level="8" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>8</b> R Markdown</a>
<ul>
<li class="chapter" data-level="8.1" data-path="r-markdown.html"><a href="r-markdown.html#introduction-to-r-markdown"><i class="fa fa-check"></i><b>8.1</b> Introduction to R Markdown</a>
<ul>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#creating-a-new-r-markdown-document"><i class="fa fa-check"></i>Creating a new R Markdown document</a></li>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#text-and-equations"><i class="fa fa-check"></i>Text and Equations</a></li>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#r-code"><i class="fa fa-check"></i>R-Code</a></li>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#latex-math"><i class="fa fa-check"></i>LaTeX Math</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV FAQ</b></span></li>
<li class="chapter" data-level="9" data-path="faq.html"><a href="faq.html"><i class="fa fa-check"></i><b>9</b> FAQ</a>
<ul>
<li class="chapter" data-level="9.1" data-path="faq.html"><a href="faq.html#common-error-messages"><i class="fa fa-check"></i><b>9.1</b> Common error messages</a>
<ul>
<li class="chapter" data-level="" data-path="faq.html"><a href="faq.html#a-general-note-on-error-messages"><i class="fa fa-check"></i>A general note on error messages</a></li>
<li class="chapter" data-level="" data-path="faq.html"><a href="faq.html#error-in-filefile-rt-cannot-open-the-connection"><i class="fa fa-check"></i>Error in file(file, “rt”): cannot open the connection</a></li>
<li class="chapter" data-level="" data-path="faq.html"><a href="faq.html#error-unexpected-symbol-in-call"><i class="fa fa-check"></i>Error: unexpected ‘SYMBOL’ in “CALL”</a></li>
<li class="chapter" data-level="" data-path="faq.html"><a href="faq.html#error-in-call-object-of-type-closure-is-not-subsettable"><i class="fa fa-check"></i>Error in CALL : object of type ‘closure’ is not subsettable</a></li>
<li class="chapter" data-level="" data-path="faq.html"><a href="faq.html#error-in-call_with_-operator-is-invalid-for-atomic-vectors"><i class="fa fa-check"></i>Error in CALL_WITH_$: $ operator is invalid for atomic vectors</a></li>
<li class="chapter" data-level="" data-path="faq.html"><a href="faq.html#error-in-call-object-name-not-found"><i class="fa fa-check"></i>Error in CALL: object ‘NAME’ not found</a></li>
<li class="chapter" data-level="" data-path="faq.html"><a href="faq.html#error-in-call-could-not-find-function-function"><i class="fa fa-check"></i>Error in CALL: could not find function “FUNCTION”</a></li>
<li class="chapter" data-level="" data-path="faq.html"><a href="faq.html#error-in-call-incorrect-number-of-dimension"><i class="fa fa-check"></i>Error in CALL: incorrect number of dimension</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="faq.html"><a href="faq.html#installation-of-r-packages"><i class="fa fa-check"></i><b>9.2</b> Installation of R packages</a>
<ul>
<li class="chapter" data-level="" data-path="faq.html"><a href="faq.html#what-are-the-different-ways-to-install-r-packages"><i class="fa fa-check"></i>What are the different ways to install R packages?</a></li>
<li class="chapter" data-level="" data-path="faq.html"><a href="faq.html#i-cannot-install-packages-due-to-error-in-contrib.urlrepossource-or-warning-message-package-packagename-is-not-available-for-this-version-of-r"><i class="fa fa-check"></i>I cannot install packages due to “Error in contrib.url(repos,”source”)” or “Warning message: package ‘PACKAGENAME’ is not available for this version of R”</a></li>
<li class="chapter" data-level="" data-path="faq.html"><a href="faq.html#some-libraries-with-graphical-output-e.g.-summarytools-magick-fail-to-installload-properly-on-macos"><i class="fa fa-check"></i>Some libraries with graphical output (e.g., summarytools, magick) fail to install/load properly on MacOS</a></li>
<li class="chapter" data-level="" data-path="faq.html"><a href="faq.html#i-cannot-install-some-packages-on-macos"><i class="fa fa-check"></i>I cannot install some packages on MacOS</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="faq.html"><a href="faq.html#issues-with-statistics-and-data"><i class="fa fa-check"></i><b>9.3</b> Issues with statistics and data</a>
<ul>
<li class="chapter" data-level="" data-path="faq.html"><a href="faq.html#why-does-a-multi-item-scale-lead-to-increased-reliability"><i class="fa fa-check"></i>Why does a multi-item scale lead to increased reliability?</a></li>
<li class="chapter" data-level="" data-path="faq.html"><a href="faq.html#why-can-demeaningstandardization-lead-to-missing-values"><i class="fa fa-check"></i>Why can demeaning/standardization lead to missing values?</a></li>
<li class="chapter" data-level="" data-path="faq.html"><a href="faq.html#the-confidence-interval-ci-of-the-mean-seems-very-small-compared-to-the-dispersion-of-my-sample.-can-this-be-correct"><i class="fa fa-check"></i>The confidence interval (CI) of the mean seems very small compared to the dispersion of my sample. Can this be correct?</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="faq.html"><a href="faq.html#errors-related-to-specific-methods"><i class="fa fa-check"></i><b>9.4</b> Errors related to specific methods</a>
<ul>
<li class="chapter" data-level="" data-path="faq.html"><a href="faq.html#logistic-regression-1"><i class="fa fa-check"></i>Logistic regression</a></li>
<li class="chapter" data-level="" data-path="faq.html"><a href="faq.html#when-using-logistic-regression-error-in-weights-y-non-numeric-argument-to-binary-operator"><i class="fa fa-check"></i>When using logistic regression: Error in weights * y : non-numeric argument to binary operator</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="faq.html"><a href="faq.html#general-settings-and-options"><i class="fa fa-check"></i><b>9.5</b> General settings and options</a>
<ul>
<li class="chapter" data-level="" data-path="faq.html"><a href="faq.html#numbers-are-formatted-weirdly"><i class="fa fa-check"></i>Numbers are formatted weirdly</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="faq.html"><a href="faq.html#data-visualizationoutput-issues"><i class="fa fa-check"></i><b>9.6</b> Data visualization/output issues</a>
<ul>
<li class="chapter" data-level="" data-path="faq.html"><a href="faq.html#how-can-the-geom-colors-in-a-ggplot-be-changed"><i class="fa fa-check"></i>How can the <code>geom</code> colors in a <code>ggplot</code> be changed?</a></li>
<li class="chapter" data-level="" data-path="faq.html"><a href="faq.html#why-are-some-histograms-displayed-differently"><i class="fa fa-check"></i>Why are some histograms displayed differently?</a></li>
<li class="chapter" data-level="" data-path="faq.html"><a href="faq.html#some-labels-in-plots-are-cut-off.-how-can-i-extend-the-plot-margins"><i class="fa fa-check"></i>Some labels in plots are cut off. How can I extend the plot margins?</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="faq.html"><a href="faq.html#issues-with-functions-and-function-arguments"><i class="fa fa-check"></i><b>9.7</b> Issues with functions and function arguments</a>
<ul>
<li class="chapter" data-level="" data-path="faq.html"><a href="faq.html#problems-with-factor-and-as.factor"><i class="fa fa-check"></i>Problems with <code>factor</code> and <code>as.factor</code></a></li>
<li class="chapter" data-level="" data-path="faq.html"><a href="faq.html#how-can-i-find-an-explanation-of-the-output-of-a-function"><i class="fa fa-check"></i>How can I find an explanation of the output of a function?</a></li>
<li class="chapter" data-level="" data-path="faq.html"><a href="faq.html#what-does-the-margin-argument-do"><i class="fa fa-check"></i>What does the <code>MARGIN</code> argument do?</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="faq.html"><a href="faq.html#issues-with-r-markdown"><i class="fa fa-check"></i><b>9.8</b> Issues with R Markdown</a>
<ul>
<li class="chapter" data-level="" data-path="faq.html"><a href="faq.html#i-get-an-error-when-knitting-to-pdf-but-it-works-for-html"><i class="fa fa-check"></i>I get an error when <code>knit</code>ting to PDF but it works for HTML</a></li>
<li class="chapter" data-level="" data-path="faq.html"><a href="faq.html#i-am-not-sure-where-r-code-latex-math-and-text-go"><i class="fa fa-check"></i>I am not sure where R-code, LaTeX math, and text go</a></li>
</ul></li>
<li class="chapter" data-level="9.9" data-path="faq.html"><a href="faq.html#new-questions"><i class="fa fa-check"></i><b>9.9</b> New questions</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Retail Marketing Analytics 2024</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-handling" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">3</span> Data handling<a href="data-handling.html#data-handling" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This chapter covers the basics of data handling in R.</p>
<div id="basic-data-handling" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Basic data handling<a href="data-handling.html#basic-data-handling" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="creating-objects" class="section level3 hasAnchor" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Creating objects<a href="data-handling.html#creating-objects" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Anything created in R is an object. You can assign values to objects using the assignment operator <code>&lt;-</code>:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="data-handling.html#cb13-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;hello world&quot;</span> <span class="co">#assigns the words &quot;hello world&quot; to the object x</span></span>
<span id="cb13-2"><a href="data-handling.html#cb13-2" tabindex="-1"></a><span class="co">#this is a comment</span></span></code></pre></div>
<p>Note that comments may be included in the code after a <code>#</code>. The text after <code>#</code> is not evaluated when the code is run; they can be written directly after the code or in a separate line.</p>
<p>To see the value of an object, simply type its name into the console and hit enter:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="data-handling.html#cb14-1" tabindex="-1"></a>x <span class="co">#print the value of x to the console</span></span></code></pre></div>
<pre><code>## [1] &quot;hello world&quot;</code></pre>
<p>You can also explicitly tell R to print the value of an object:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="data-handling.html#cb16-1" tabindex="-1"></a><span class="fu">print</span>(x) <span class="co">#print the value of x to the console</span></span></code></pre></div>
<pre><code>## [1] &quot;hello world&quot;</code></pre>
<p>Note that because we assign characters in this case (as opposed to e.g., numeric values), we need to wrap the words in quotation marks, which must always come in pairs. Although RStudio automatically adds a pair of quotation marks (i.e., opening and closing marks) when you enter the opening marks it could be that you end up with a mismatch by accident (e.g., <code>x &lt;- "hello</code>). In this case, R will show you the continuation character “+”. The same could happen if you did not execute the full command by accident. The “+” means that R is expecting more input. If this happens, either add the missing pair, or press ESCAPE to abort the expression and try again.</p>
<p>To change the value of an object, you can simply overwrite the previous value. For example, you could also assign a numeric value to “x” to perform some basic operations:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="data-handling.html#cb18-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="co">#assigns the value of 2 to the object x</span></span>
<span id="cb18-2"><a href="data-handling.html#cb18-2" tabindex="-1"></a><span class="fu">print</span>(x)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="data-handling.html#cb20-1" tabindex="-1"></a>x <span class="sc">==</span> <span class="dv">2</span>  <span class="co">#checks whether the value of x is equal to 2</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="data-handling.html#cb22-1" tabindex="-1"></a>x <span class="sc">!=</span> <span class="dv">3</span>  <span class="co">#checks whether the value of x is NOT equal to 3</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="data-handling.html#cb24-1" tabindex="-1"></a>x <span class="sc">&lt;</span> <span class="dv">3</span>   <span class="co">#checks whether the value of x is less than 3</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="data-handling.html#cb26-1" tabindex="-1"></a>x <span class="sc">&gt;</span> <span class="dv">3</span>   <span class="co">#checks whether the value of x is greater than 3</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Note that the name of the object is completely arbitrary. We could also define a second object “y”, assign it a different value and use it to perform some basic mathematical operations:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="data-handling.html#cb28-1" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">5</span> <span class="co">#assigns the value of 2 to the object x</span></span>
<span id="cb28-2"><a href="data-handling.html#cb28-2" tabindex="-1"></a>x <span class="sc">==</span> y <span class="co">#checks whether the value of x to the value of y</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="data-handling.html#cb30-1" tabindex="-1"></a>x<span class="sc">*</span>y <span class="co">#multiplication of x and y</span></span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="data-handling.html#cb32-1" tabindex="-1"></a>x <span class="sc">+</span> y <span class="co">#adds the values of x and y together</span></span></code></pre></div>
<pre><code>## [1] 7</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="data-handling.html#cb34-1" tabindex="-1"></a>y<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> <span class="dv">3</span><span class="sc">*</span>x <span class="co">#adds the value of y squared and 3x the value of x together</span></span></code></pre></div>
<pre><code>## [1] 31</code></pre>
<p><b>Object names</b></p>
<p>Please note that object names must start with a letter and can only contain letters, numbers, as well as the <code>.</code>, and <code>_</code> separators. It is important to give your objects descriptive names and to be as consistent as possible with the naming structure. In this tutorial we will be using lower case words separated by underscores (e.g., <code>object_name</code>). There are other naming conventions, such as using a <code>.</code> as a separator (e.g., <code>object.name</code>), or using upper case letters (<code>objectName</code>). It doesn’t really matter which one you choose, as long as you are consistent.</p>
</div>
<div id="data-types" class="section level3 hasAnchor" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> Data types<a href="data-handling.html#data-types" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The most important types of data are:</p>
<table>
<colgroup>
<col width="14%" />
<col width="85%" />
</colgroup>
<thead>
<tr class="header">
<th>Data type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Numeric</td>
<td>Approximations of the real numbers, <span class="math inline">\(\normalsize\mathbb{R}\)</span> (e.g., mileage a car gets: 23.6, 20.9, etc.)</td>
</tr>
<tr class="even">
<td>Integer</td>
<td>Whole numbers, <span class="math inline">\(\normalsize\mathbb{Z}\)</span> (e.g., number of sales: 7, 0, 120, 63, etc.)</td>
</tr>
<tr class="odd">
<td>Character</td>
<td>Text data (strings, e.g., product names)</td>
</tr>
<tr class="even">
<td>Factor</td>
<td>Categorical data for classification (e.g., product groups)</td>
</tr>
<tr class="odd">
<td>Logical</td>
<td>TRUE, FALSE</td>
</tr>
<tr class="even">
<td>Date</td>
<td>Date variables (e.g., sales dates: 21-06-2015, 06-21-15, 21-Jun-2015, etc.)</td>
</tr>
</tbody>
</table>
<p>Variables can be converted from one type to another using the appropriate functions (e.g., <code>as.numeric()</code>,<code>as.integer()</code>,<code>as.character()</code>, <code>as.factor()</code>,<code>as.logical()</code>, <code>as.Date()</code>). For example, we could convert the object <code>y</code> to character as follows:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="data-handling.html#cb36-1" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">as.character</span>(y)</span>
<span id="cb36-2"><a href="data-handling.html#cb36-2" tabindex="-1"></a><span class="fu">print</span>(y)</span></code></pre></div>
<pre><code>## [1] &quot;5&quot;</code></pre>
<p>Notice how the value is in quotation marks since it is now of type character.</p>
<p>Entering a vector of data into R can be done with the <code>c(x1,x2,..,x_n)</code> (“concatenate”) command. In order to be able to use our vector (or any other variable) later on we want to assign it a name using the assignment operator <code>&lt;-</code>. You can choose names arbitrarily (but the first character of a name cannot be a number). Just make sure they are descriptive and unique. Assigning the same name to two variables (e.g. vectors) will result in deletion of the first. Instead of converting a variable we can also create a new one and use an existing one as input. In this case we omit the <code>as.</code> and simply use the name of the type (e.g. <code>factor()</code>). There is a subtle difference between the two: When converting a variable, with e.g. <code>as.factor()</code>, we can only pass the variable we want to convert without additional arguments and R determines the factor levels by the existing unique values in the variable or just returns the variable itself if it is a factor already. When we specifically create a variable (just <code>factor()</code>, <code>matrix()</code>, etc.), we can and should set the options of this type explicitly. For a factor variable these could be the labels and levels, for a matrix the number of rows and columns and so on.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="data-handling.html#cb38-1" tabindex="-1"></a><span class="co">#Numeric:</span></span>
<span id="cb38-2"><a href="data-handling.html#cb38-2" tabindex="-1"></a>top10_sales <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">163608</span>, <span class="dv">126687</span>, <span class="dv">120480</span>, <span class="dv">110022</span>, <span class="dv">108630</span>, <span class="dv">95639</span>, <span class="dv">94690</span>, <span class="dv">89011</span>, <span class="dv">87869</span>, <span class="dv">85599</span>) </span>
<span id="cb38-3"><a href="data-handling.html#cb38-3" tabindex="-1"></a></span>
<span id="cb38-4"><a href="data-handling.html#cb38-4" tabindex="-1"></a><span class="co">#Character:</span></span>
<span id="cb38-5"><a href="data-handling.html#cb38-5" tabindex="-1"></a>top10_product_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Bio-Kaisersemmel&quot;</span>, <span class="st">&quot;Laktosefreie Bio-Vollmilch&quot;</span>, <span class="st">&quot;Ottakringer Helles&quot;</span>, <span class="st">&quot;Milka Ganze Haselnüsse&quot;</span>, <span class="st">&quot;Bio-Toastkäse Scheiben&quot;</span>, <span class="st">&quot;Ottakringer Bio Zwickl&quot;</span>, <span class="st">&quot;Vienna Coffee House Espresso&quot;</span>, <span class="st">&quot;Bio-Mozzarella&quot;</span>, <span class="st">&quot;Basmati Reis&quot;</span>, <span class="st">&quot;Bananen&quot;</span>) <span class="co"># Characters have to be put in &quot;&quot;</span></span>
<span id="cb38-6"><a href="data-handling.html#cb38-6" tabindex="-1"></a></span>
<span id="cb38-7"><a href="data-handling.html#cb38-7" tabindex="-1"></a><span class="co">#Factor variable with two categories:</span></span>
<span id="cb38-8"><a href="data-handling.html#cb38-8" tabindex="-1"></a>private_label <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>)</span>
<span id="cb38-9"><a href="data-handling.html#cb38-9" tabindex="-1"></a>private_label <span class="ot">&lt;-</span> <span class="fu">factor</span>(private_label, </span>
<span id="cb38-10"><a href="data-handling.html#cb38-10" tabindex="-1"></a>                               <span class="at">levels =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>, </span>
<span id="cb38-11"><a href="data-handling.html#cb38-11" tabindex="-1"></a>                               <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;national brand&quot;</span>, <span class="st">&quot;private label&quot;</span>))</span>
<span id="cb38-12"><a href="data-handling.html#cb38-12" tabindex="-1"></a></span>
<span id="cb38-13"><a href="data-handling.html#cb38-13" tabindex="-1"></a><span class="co">#Factor variable with more than two categories:</span></span>
<span id="cb38-14"><a href="data-handling.html#cb38-14" tabindex="-1"></a>top10_brand <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Ja! Natürlich&quot;</span>, <span class="st">&quot;Ja! Natürlich&quot;</span>, <span class="st">&quot;Ottakringer&quot;</span>, <span class="st">&quot;Milka&quot;</span>, <span class="st">&quot;Ja! Natürlich&quot;</span>, <span class="st">&quot;Ottakringer&quot;</span>, <span class="st">&quot;Julius Meinl&quot;</span>, <span class="st">&quot;Ja! Natürlich&quot;</span>, <span class="st">&quot;Billa Bio&quot;</span>, <span class="st">&quot;Clever&quot;</span>)</span>
<span id="cb38-15"><a href="data-handling.html#cb38-15" tabindex="-1"></a>top10_brand <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(top10_brand)</span>
<span id="cb38-16"><a href="data-handling.html#cb38-16" tabindex="-1"></a></span>
<span id="cb38-17"><a href="data-handling.html#cb38-17" tabindex="-1"></a><span class="co">#Date:</span></span>
<span id="cb38-18"><a href="data-handling.html#cb38-18" tabindex="-1"></a>date_most_sold <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="fu">c</span>(<span class="st">&quot;2023-05-24&quot;</span>, <span class="st">&quot;2023-06-23&quot;</span>, <span class="st">&quot;2023-09-01&quot;</span>, <span class="st">&quot;2023-06-30&quot;</span>, <span class="st">&quot;2023-05-05&quot;</span>, <span class="st">&quot;2023-06-09&quot;</span>, <span class="st">&quot;2023-07-14&quot;</span>, <span class="st">&quot;2023-06-16&quot;</span>, <span class="st">&quot;2023-05-18&quot;</span>, <span class="st">&quot;2023-05-19&quot;</span>))</span>
<span id="cb38-19"><a href="data-handling.html#cb38-19" tabindex="-1"></a></span>
<span id="cb38-20"><a href="data-handling.html#cb38-20" tabindex="-1"></a><span class="co">#Logical</span></span>
<span id="cb38-21"><a href="data-handling.html#cb38-21" tabindex="-1"></a>private_label_logical <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>,<span class="cn">TRUE</span>,<span class="cn">FALSE</span>,<span class="cn">FALSE</span>,<span class="cn">TRUE</span>,<span class="cn">FALSE</span>,<span class="cn">FALSE</span>,<span class="cn">TRUE</span>,<span class="cn">TRUE</span>,<span class="cn">TRUE</span>)  </span></code></pre></div>
<p>In order to “return” a vector we can now simply enter its name:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="data-handling.html#cb39-1" tabindex="-1"></a>top10_sales</span></code></pre></div>
<pre><code>##  [1] 163608 126687 120480 110022 108630  95639  94690  89011  87869  85599</code></pre>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="data-handling.html#cb41-1" tabindex="-1"></a>date_most_sold</span></code></pre></div>
<pre><code>##  [1] &quot;2023-05-24&quot; &quot;2023-06-23&quot; &quot;2023-09-01&quot; &quot;2023-06-30&quot; &quot;2023-05-05&quot;
##  [6] &quot;2023-06-09&quot; &quot;2023-07-14&quot; &quot;2023-06-16&quot; &quot;2023-05-18&quot; &quot;2023-05-19&quot;</code></pre>
<p>In order to check the type of a variable the <code>class()</code> function is used.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="data-handling.html#cb43-1" tabindex="-1"></a><span class="fu">class</span>(date_most_sold)</span></code></pre></div>
<pre><code>## [1] &quot;Date&quot;</code></pre>
</div>
<div id="data-structures" class="section level3 hasAnchor" number="3.1.3">
<h3><span class="header-section-number">3.1.3</span> Data structures<a href="data-handling.html#data-structures" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now let’s create a table that contains the variables in columns and each observation in a row (like in SPSS or Excel). There are different data structures in R (e.g., Matrix, Vector, List, Array). In this course, we will mainly use <b>data frames</b>.</p>
<p style="text-align:center;">
<img src="https://github.com/IMSMWU/Teaching/raw/master/MRDA2017/Graphics/dataframe.JPG" alt="data types" height="320">
</p>
<p>Data frames are similar to matrices but are more flexible in the sense that they may contain different data types (e.g., numeric, character, etc.), where all values of vectors and matrices have to be of the same type (e.g. character). It is often more convenient to use characters instead of numbers (e.g. when indicating a persons sex: “F”, “M” instead of 1 for female , 2 for male). Thus we would like to combine both numeric and character values while retaining the respective desired features. This is where “data frames” come into play. Data frames can have different types of data in each column. For example, we can combine the vectors created above in one data frame using <code>data.frame()</code>. This creates a separate column for each vector, which is usually what we want (similar to SPSS or Excel).</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="data-handling.html#cb45-1" tabindex="-1"></a>sales_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(top10_sales, </span>
<span id="cb45-2"><a href="data-handling.html#cb45-2" tabindex="-1"></a>                         top10_product_names, </span>
<span id="cb45-3"><a href="data-handling.html#cb45-3" tabindex="-1"></a>                         private_label, </span>
<span id="cb45-4"><a href="data-handling.html#cb45-4" tabindex="-1"></a>                         top10_brand, </span>
<span id="cb45-5"><a href="data-handling.html#cb45-5" tabindex="-1"></a>                         date_most_sold, </span>
<span id="cb45-6"><a href="data-handling.html#cb45-6" tabindex="-1"></a>                         private_label_logical)</span></code></pre></div>
<div id="accessing-data-in-data-frames" class="section level4 hasAnchor" number="3.1.3.1">
<h4><span class="header-section-number">3.1.3.1</span> Accessing data in data frames<a href="data-handling.html#accessing-data-in-data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>When entering the name of a data frame, R returns the entire data frame:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="data-handling.html#cb46-1" tabindex="-1"></a>sales_data <span class="co"># Returns the entire data frame</span></span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["top10_sales"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["top10_product_names"],"name":[2],"type":["chr"],"align":["left"]},{"label":["private_label"],"name":[3],"type":["fct"],"align":["left"]},{"label":["top10_brand"],"name":[4],"type":["fct"],"align":["left"]},{"label":["date_most_sold"],"name":[5],"type":["date"],"align":["right"]},{"label":["private_label_logical"],"name":[6],"type":["lgl"],"align":["right"]}],"data":[{"1":"163608","2":"Bio-Kaisersemmel","3":"private label","4":"Ja! Natürlich","5":"2023-05-24","6":"TRUE"},{"1":"126687","2":"Laktosefreie Bio-Vollmilch","3":"private label","4":"Ja! Natürlich","5":"2023-06-23","6":"TRUE"},{"1":"120480","2":"Ottakringer Helles","3":"national brand","4":"Ottakringer","5":"2023-09-01","6":"FALSE"},{"1":"110022","2":"Milka Ganze Haselnüsse","3":"national brand","4":"Milka","5":"2023-06-30","6":"FALSE"},{"1":"108630","2":"Bio-Toastkäse Scheiben","3":"private label","4":"Ja! Natürlich","5":"2023-05-05","6":"TRUE"},{"1":"95639","2":"Ottakringer Bio Zwickl","3":"national brand","4":"Ottakringer","5":"2023-06-09","6":"FALSE"},{"1":"94690","2":"Vienna Coffee House Espresso","3":"national brand","4":"Julius Meinl","5":"2023-07-14","6":"FALSE"},{"1":"89011","2":"Bio-Mozzarella","3":"private label","4":"Ja! Natürlich","5":"2023-06-16","6":"TRUE"},{"1":"87869","2":"Basmati Reis","3":"private label","4":"Billa Bio","5":"2023-05-18","6":"TRUE"},{"1":"85599","2":"Bananen","3":"private label","4":"Clever","5":"2023-05-19","6":"TRUE"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Hint: You may also use the <code>View()</code>-function to view the data in a table format (like in SPSS or Excel), i.e. enter the command <code>View(data)</code>. Note that you can achieve the same by clicking on the small table icon next to the data frame in the “Environment”-window on the right in RStudio.</p>
<p>Sometimes it is convenient to return only specific values instead of the entire data frame. There are a variety of ways to identify the elements of a data frame. One easy way is to explicitly state, which rows and columns you wish to view. The general form of the command is <code>data.frame[rows,columns]</code>. By leaving one of the arguments of <code>data.frame[rows,columns]</code> blank (e.g., <code>data.frame[rows,]</code>) we tell R that we want to access either all rows or columns, respectively. Note that <code>a:b</code> (where <code>a</code> and <code>b</code> are numbers and <code>a</code> &lt; <code>b</code>) is short hand notation for <code>seq(from = a, to = b, by = 1)</code>. Here are some examples:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="data-handling.html#cb47-1" tabindex="-1"></a>sales_data[ , <span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>] <span class="co"># all rows and columns 2,3,4</span></span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["top10_product_names"],"name":[1],"type":["chr"],"align":["left"]},{"label":["private_label"],"name":[2],"type":["fct"],"align":["left"]},{"label":["top10_brand"],"name":[3],"type":["fct"],"align":["left"]}],"data":[{"1":"Bio-Kaisersemmel","2":"private label","3":"Ja! Natürlich"},{"1":"Laktosefreie Bio-Vollmilch","2":"private label","3":"Ja! Natürlich"},{"1":"Ottakringer Helles","2":"national brand","3":"Ottakringer"},{"1":"Milka Ganze Haselnüsse","2":"national brand","3":"Milka"},{"1":"Bio-Toastkäse Scheiben","2":"private label","3":"Ja! Natürlich"},{"1":"Ottakringer Bio Zwickl","2":"national brand","3":"Ottakringer"},{"1":"Vienna Coffee House Espresso","2":"national brand","3":"Julius Meinl"},{"1":"Bio-Mozzarella","2":"private label","3":"Ja! Natürlich"},{"1":"Basmati Reis","2":"private label","3":"Billa Bio"},{"1":"Bananen","2":"private label","3":"Clever"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="data-handling.html#cb48-1" tabindex="-1"></a>sales_data[<span class="dv">5</span><span class="sc">:</span><span class="dv">7</span>, ] <span class="co"># rows 5,6,7 and all columns</span></span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["top10_sales"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["top10_product_names"],"name":[2],"type":["chr"],"align":["left"]},{"label":["private_label"],"name":[3],"type":["fct"],"align":["left"]},{"label":["top10_brand"],"name":[4],"type":["fct"],"align":["left"]},{"label":["date_most_sold"],"name":[5],"type":["date"],"align":["right"]},{"label":["private_label_logical"],"name":[6],"type":["lgl"],"align":["right"]}],"data":[{"1":"108630","2":"Bio-Toastkäse Scheiben","3":"private label","4":"Ja! Natürlich","5":"2023-05-05","6":"TRUE","_rn_":"5"},{"1":"95639","2":"Ottakringer Bio Zwickl","3":"national brand","4":"Ottakringer","5":"2023-06-09","6":"FALSE","_rn_":"6"},{"1":"94690","2":"Vienna Coffee House Espresso","3":"national brand","4":"Julius Meinl","5":"2023-07-14","6":"FALSE","_rn_":"7"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Typically we don’t want to remember which row or column number is needed but use names and conditions (e.g, all explicit tracks). In order to make that easier we will add more functions to R by installing a package (sometimes also referred to as “library”) called <code>tidyverse</code>. We only have to install it once (per computer) and subsequently we can add the functions the package provides by calling <code>library(tidyverse)</code>. Typically <code>library(PACKAGENAME)</code> has to be called again whenever you restart R/RStudio. If you see the error message <code>could not find function ...</code> make sure you have loaded all the required packages. The <code>tidyverse</code> provides us with convenient tools to manipulate data.</p>
<p>You may create subsets of the data frame, e.g., using mathematical expressions using the <code>filter</code> function:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="data-handling.html#cb49-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb49-2"><a href="data-handling.html#cb49-2" tabindex="-1"></a><span class="fu">filter</span>(sales_data, private_label <span class="sc">==</span> <span class="st">&quot;private label&quot;</span>) <span class="co"># show only products that belong to private labels</span></span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["top10_sales"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["top10_product_names"],"name":[2],"type":["chr"],"align":["left"]},{"label":["private_label"],"name":[3],"type":["fct"],"align":["left"]},{"label":["top10_brand"],"name":[4],"type":["fct"],"align":["left"]},{"label":["date_most_sold"],"name":[5],"type":["date"],"align":["right"]},{"label":["private_label_logical"],"name":[6],"type":["lgl"],"align":["right"]}],"data":[{"1":"163608","2":"Bio-Kaisersemmel","3":"private label","4":"Ja! Natürlich","5":"2023-05-24","6":"TRUE"},{"1":"126687","2":"Laktosefreie Bio-Vollmilch","3":"private label","4":"Ja! Natürlich","5":"2023-06-23","6":"TRUE"},{"1":"108630","2":"Bio-Toastkäse Scheiben","3":"private label","4":"Ja! Natürlich","5":"2023-05-05","6":"TRUE"},{"1":"89011","2":"Bio-Mozzarella","3":"private label","4":"Ja! Natürlich","5":"2023-06-16","6":"TRUE"},{"1":"87869","2":"Basmati Reis","3":"private label","4":"Billa Bio","5":"2023-05-18","6":"TRUE"},{"1":"85599","2":"Bananen","3":"private label","4":"Clever","5":"2023-05-19","6":"TRUE"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="data-handling.html#cb50-1" tabindex="-1"></a><span class="fu">filter</span>(sales_data, top10_sales <span class="sc">&gt;</span> <span class="dv">100000</span>) <span class="co"># show only products that sold more than 100,000 units  </span></span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["top10_sales"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["top10_product_names"],"name":[2],"type":["chr"],"align":["left"]},{"label":["private_label"],"name":[3],"type":["fct"],"align":["left"]},{"label":["top10_brand"],"name":[4],"type":["fct"],"align":["left"]},{"label":["date_most_sold"],"name":[5],"type":["date"],"align":["right"]},{"label":["private_label_logical"],"name":[6],"type":["lgl"],"align":["right"]}],"data":[{"1":"163608","2":"Bio-Kaisersemmel","3":"private label","4":"Ja! Natürlich","5":"2023-05-24","6":"TRUE"},{"1":"126687","2":"Laktosefreie Bio-Vollmilch","3":"private label","4":"Ja! Natürlich","5":"2023-06-23","6":"TRUE"},{"1":"120480","2":"Ottakringer Helles","3":"national brand","4":"Ottakringer","5":"2023-09-01","6":"FALSE"},{"1":"110022","2":"Milka Ganze Haselnüsse","3":"national brand","4":"Milka","5":"2023-06-30","6":"FALSE"},{"1":"108630","2":"Bio-Toastkäse Scheiben","3":"private label","4":"Ja! Natürlich","5":"2023-05-05","6":"TRUE"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="data-handling.html#cb51-1" tabindex="-1"></a><span class="fu">filter</span>(sales_data, top10_product_names <span class="sc">==</span> <span class="st">&#39;Bio-Kaisersemmel&#39;</span>) <span class="co"># returns all observations from product &quot;Bio-Kaisersemmel&quot;</span></span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["top10_sales"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["top10_product_names"],"name":[2],"type":["chr"],"align":["left"]},{"label":["private_label"],"name":[3],"type":["fct"],"align":["left"]},{"label":["top10_brand"],"name":[4],"type":["fct"],"align":["left"]},{"label":["date_most_sold"],"name":[5],"type":["date"],"align":["right"]},{"label":["private_label_logical"],"name":[6],"type":["lgl"],"align":["right"]}],"data":[{"1":"163608","2":"Bio-Kaisersemmel","3":"private label","4":"Ja! Natürlich","5":"2023-05-24","6":"TRUE"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="data-handling.html#cb52-1" tabindex="-1"></a>private_labels <span class="ot">&lt;-</span> <span class="fu">filter</span>(sales_data, private_label <span class="sc">==</span> <span class="st">&quot;private label&quot;</span>) <span class="co"># creates a new data.frame by assigning only observations belonging to private labels</span></span></code></pre></div>
<p>You may also change the order of the rows in a <code>data.frame</code> by using the <code>arrange()</code>-function</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="data-handling.html#cb53-1" tabindex="-1"></a><span class="co"># Arrange by sales (descending: most - least) </span></span>
<span id="cb53-2"><a href="data-handling.html#cb53-2" tabindex="-1"></a><span class="fu">arrange</span>(sales_data, <span class="fu">desc</span>(top10_sales))</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["top10_sales"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["top10_product_names"],"name":[2],"type":["chr"],"align":["left"]},{"label":["private_label"],"name":[3],"type":["fct"],"align":["left"]},{"label":["top10_brand"],"name":[4],"type":["fct"],"align":["left"]},{"label":["date_most_sold"],"name":[5],"type":["date"],"align":["right"]},{"label":["private_label_logical"],"name":[6],"type":["lgl"],"align":["right"]}],"data":[{"1":"163608","2":"Bio-Kaisersemmel","3":"private label","4":"Ja! Natürlich","5":"2023-05-24","6":"TRUE"},{"1":"126687","2":"Laktosefreie Bio-Vollmilch","3":"private label","4":"Ja! Natürlich","5":"2023-06-23","6":"TRUE"},{"1":"120480","2":"Ottakringer Helles","3":"national brand","4":"Ottakringer","5":"2023-09-01","6":"FALSE"},{"1":"110022","2":"Milka Ganze Haselnüsse","3":"national brand","4":"Milka","5":"2023-06-30","6":"FALSE"},{"1":"108630","2":"Bio-Toastkäse Scheiben","3":"private label","4":"Ja! Natürlich","5":"2023-05-05","6":"TRUE"},{"1":"95639","2":"Ottakringer Bio Zwickl","3":"national brand","4":"Ottakringer","5":"2023-06-09","6":"FALSE"},{"1":"94690","2":"Vienna Coffee House Espresso","3":"national brand","4":"Julius Meinl","5":"2023-07-14","6":"FALSE"},{"1":"89011","2":"Bio-Mozzarella","3":"private label","4":"Ja! Natürlich","5":"2023-06-16","6":"TRUE"},{"1":"87869","2":"Basmati Reis","3":"private label","4":"Billa Bio","5":"2023-05-18","6":"TRUE"},{"1":"85599","2":"Bananen","3":"private label","4":"Clever","5":"2023-05-19","6":"TRUE"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>You can order observations by several characteristics. Please note that the order of variables in the <code>arrange()</code>-function specifies the order of arranging the data set. For example, here we first arrange the observations by the brand of the product, and only then require ordering by sales amounts:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="data-handling.html#cb54-1" tabindex="-1"></a><span class="co"># Arrange by brand (ascending by default) and then sales (descending: most - least) </span></span>
<span id="cb54-2"><a href="data-handling.html#cb54-2" tabindex="-1"></a><span class="fu">arrange</span>(sales_data, top10_brand, <span class="fu">desc</span>(top10_sales))</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["top10_sales"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["top10_product_names"],"name":[2],"type":["chr"],"align":["left"]},{"label":["private_label"],"name":[3],"type":["fct"],"align":["left"]},{"label":["top10_brand"],"name":[4],"type":["fct"],"align":["left"]},{"label":["date_most_sold"],"name":[5],"type":["date"],"align":["right"]},{"label":["private_label_logical"],"name":[6],"type":["lgl"],"align":["right"]}],"data":[{"1":"87869","2":"Basmati Reis","3":"private label","4":"Billa Bio","5":"2023-05-18","6":"TRUE"},{"1":"85599","2":"Bananen","3":"private label","4":"Clever","5":"2023-05-19","6":"TRUE"},{"1":"163608","2":"Bio-Kaisersemmel","3":"private label","4":"Ja! Natürlich","5":"2023-05-24","6":"TRUE"},{"1":"126687","2":"Laktosefreie Bio-Vollmilch","3":"private label","4":"Ja! Natürlich","5":"2023-06-23","6":"TRUE"},{"1":"108630","2":"Bio-Toastkäse Scheiben","3":"private label","4":"Ja! Natürlich","5":"2023-05-05","6":"TRUE"},{"1":"89011","2":"Bio-Mozzarella","3":"private label","4":"Ja! Natürlich","5":"2023-06-16","6":"TRUE"},{"1":"94690","2":"Vienna Coffee House Espresso","3":"national brand","4":"Julius Meinl","5":"2023-07-14","6":"FALSE"},{"1":"110022","2":"Milka Ganze Haselnüsse","3":"national brand","4":"Milka","5":"2023-06-30","6":"FALSE"},{"1":"120480","2":"Ottakringer Helles","3":"national brand","4":"Ottakringer","5":"2023-09-01","6":"FALSE"},{"1":"95639","2":"Ottakringer Bio Zwickl","3":"national brand","4":"Ottakringer","5":"2023-06-09","6":"FALSE"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="inspecting-the-content-of-a-data-frame" class="section level4 hasAnchor" number="3.1.3.2">
<h4><span class="header-section-number">3.1.3.2</span> Inspecting the content of a data frame<a href="data-handling.html#inspecting-the-content-of-a-data-frame" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <code>head()</code> function displays the first X elements/rows of a vector, matrix, table, data frame or function.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="data-handling.html#cb55-1" tabindex="-1"></a><span class="fu">head</span>(sales_data, <span class="dv">3</span>) <span class="co"># returns the first X rows (here, the first 3 rows)</span></span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["top10_sales"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["top10_product_names"],"name":[2],"type":["chr"],"align":["left"]},{"label":["private_label"],"name":[3],"type":["fct"],"align":["left"]},{"label":["top10_brand"],"name":[4],"type":["fct"],"align":["left"]},{"label":["date_most_sold"],"name":[5],"type":["date"],"align":["right"]},{"label":["private_label_logical"],"name":[6],"type":["lgl"],"align":["right"]}],"data":[{"1":"163608","2":"Bio-Kaisersemmel","3":"private label","4":"Ja! Natürlich","5":"2023-05-24","6":"TRUE","_rn_":"1"},{"1":"126687","2":"Laktosefreie Bio-Vollmilch","3":"private label","4":"Ja! Natürlich","5":"2023-06-23","6":"TRUE","_rn_":"2"},{"1":"120480","2":"Ottakringer Helles","3":"national brand","4":"Ottakringer","5":"2023-09-01","6":"FALSE","_rn_":"3"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>The <code>tail()</code> function is similar, except it displays the last elements/rows.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="data-handling.html#cb56-1" tabindex="-1"></a><span class="fu">tail</span>(sales_data, <span class="dv">3</span>) <span class="co"># returns the last X rows (here, the last 3 rows)</span></span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["top10_sales"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["top10_product_names"],"name":[2],"type":["chr"],"align":["left"]},{"label":["private_label"],"name":[3],"type":["fct"],"align":["left"]},{"label":["top10_brand"],"name":[4],"type":["fct"],"align":["left"]},{"label":["date_most_sold"],"name":[5],"type":["date"],"align":["right"]},{"label":["private_label_logical"],"name":[6],"type":["lgl"],"align":["right"]}],"data":[{"1":"89011","2":"Bio-Mozzarella","3":"private label","4":"Ja! Natürlich","5":"2023-06-16","6":"TRUE","_rn_":"8"},{"1":"87869","2":"Basmati Reis","3":"private label","4":"Billa Bio","5":"2023-05-18","6":"TRUE","_rn_":"9"},{"1":"85599","2":"Bananen","3":"private label","4":"Clever","5":"2023-05-19","6":"TRUE","_rn_":"10"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p><code>names()</code> returns the names of an R object. When, for example, it is called on a data frame, it returns the names of the columns.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="data-handling.html#cb57-1" tabindex="-1"></a><span class="fu">names</span>(sales_data) <span class="co"># returns the names of the variables in the data frame</span></span></code></pre></div>
<pre><code>## [1] &quot;top10_sales&quot;           &quot;top10_product_names&quot;   &quot;private_label&quot;        
## [4] &quot;top10_brand&quot;           &quot;date_most_sold&quot;        &quot;private_label_logical&quot;</code></pre>
<p><code>str()</code> displays the internal structure of an R object. In the case of a data frame, it returns the class (e.g., numeric, factor, etc.) of each variable, as well as the number of observations and the number of variables.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="data-handling.html#cb59-1" tabindex="-1"></a><span class="fu">str</span>(sales_data) <span class="co"># returns the structure of the data frame</span></span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    10 obs. of  6 variables:
##  $ top10_sales          : num  163608 126687 120480 110022 108630 ...
##  $ top10_product_names  : chr  &quot;Bio-Kaisersemmel&quot; &quot;Laktosefreie Bio-Vollmilch&quot; &quot;Ottakringer Helles&quot; &quot;Milka Ganze Haselnüsse&quot; ...
##  $ private_label        : Factor w/ 2 levels &quot;national brand&quot;,..: 2 2 1 1 2 1 1 2 2 2
##  $ top10_brand          : Factor w/ 6 levels &quot;Billa Bio&quot;,&quot;Clever&quot;,..: 3 3 6 5 3 6 4 3 1 2
##  $ date_most_sold       : Date, format: &quot;2023-05-24&quot; &quot;2023-06-23&quot; ...
##  $ private_label_logical: logi  TRUE TRUE FALSE FALSE TRUE FALSE ...</code></pre>
<p><code>nrow()</code> and <code>ncol()</code> return the rows and columns of a data frame or matrix, respectively. <code>dim()</code> displays the dimensions of an R object.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="data-handling.html#cb61-1" tabindex="-1"></a><span class="fu">nrow</span>(sales_data) <span class="co"># returns the number of rows </span></span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="data-handling.html#cb63-1" tabindex="-1"></a><span class="fu">ncol</span>(sales_data) <span class="co"># returns the number of columns </span></span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="data-handling.html#cb65-1" tabindex="-1"></a><span class="fu">dim</span>(sales_data) <span class="co"># returns the dimensions of a data frame</span></span></code></pre></div>
<pre><code>## [1] 10  6</code></pre>
<p><code>ls()</code> can be used to list all objects that are associated with an R object.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="data-handling.html#cb67-1" tabindex="-1"></a><span class="fu">ls</span>(sales_data) <span class="co"># list all objects associated with an object</span></span></code></pre></div>
<pre><code>## [1] &quot;date_most_sold&quot;        &quot;private_label&quot;         &quot;private_label_logical&quot;
## [4] &quot;top10_brand&quot;           &quot;top10_product_names&quot;   &quot;top10_sales&quot;</code></pre>
</div>
<div id="select-group-append-and-delete-variables-tofrom-data-frames" class="section level4 hasAnchor" number="3.1.3.3">
<h4><span class="header-section-number">3.1.3.3</span> Select, group, append and delete variables to/from data frames<a href="data-handling.html#select-group-append-and-delete-variables-tofrom-data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>To return a single column in a data frame, use the <code>$</code> notation. For example, this returns all values associated with the variable “top10_track_streams”:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="data-handling.html#cb69-1" tabindex="-1"></a>sales_data<span class="sc">$</span>top10_sales</span></code></pre></div>
<pre><code>##  [1] 163608 126687 120480 110022 108630  95639  94690  89011  87869  85599</code></pre>
<p>If you want to select more than one variable you can use the <code>select</code> function. It takes the <code>data.frame</code> containing the data as its first argument and the variables that you need after it:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="data-handling.html#cb71-1" tabindex="-1"></a><span class="fu">select</span>(sales_data, top10_product_names, top10_sales, private_label)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["top10_product_names"],"name":[1],"type":["chr"],"align":["left"]},{"label":["top10_sales"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["private_label"],"name":[3],"type":["fct"],"align":["left"]}],"data":[{"1":"Bio-Kaisersemmel","2":"163608","3":"private label"},{"1":"Laktosefreie Bio-Vollmilch","2":"126687","3":"private label"},{"1":"Ottakringer Helles","2":"120480","3":"national brand"},{"1":"Milka Ganze Haselnüsse","2":"110022","3":"national brand"},{"1":"Bio-Toastkäse Scheiben","2":"108630","3":"private label"},{"1":"Ottakringer Bio Zwickl","2":"95639","3":"national brand"},{"1":"Vienna Coffee House Espresso","2":"94690","3":"national brand"},{"1":"Bio-Mozzarella","2":"89011","3":"private label"},{"1":"Basmati Reis","2":"87869","3":"private label"},{"1":"Bananen","2":"85599","3":"private label"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p><code>select</code> can also be used to remove columns by prepending a <code>-</code> to their name:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="data-handling.html#cb72-1" tabindex="-1"></a><span class="fu">select</span>(sales_data, <span class="sc">-</span>date_most_sold, <span class="sc">-</span>private_label_logical)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["top10_sales"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["top10_product_names"],"name":[2],"type":["chr"],"align":["left"]},{"label":["private_label"],"name":[3],"type":["fct"],"align":["left"]},{"label":["top10_brand"],"name":[4],"type":["fct"],"align":["left"]}],"data":[{"1":"163608","2":"Bio-Kaisersemmel","3":"private label","4":"Ja! Natürlich"},{"1":"126687","2":"Laktosefreie Bio-Vollmilch","3":"private label","4":"Ja! Natürlich"},{"1":"120480","2":"Ottakringer Helles","3":"national brand","4":"Ottakringer"},{"1":"110022","2":"Milka Ganze Haselnüsse","3":"national brand","4":"Milka"},{"1":"108630","2":"Bio-Toastkäse Scheiben","3":"private label","4":"Ja! Natürlich"},{"1":"95639","2":"Ottakringer Bio Zwickl","3":"national brand","4":"Ottakringer"},{"1":"94690","2":"Vienna Coffee House Espresso","3":"national brand","4":"Julius Meinl"},{"1":"89011","2":"Bio-Mozzarella","3":"private label","4":"Ja! Natürlich"},{"1":"87869","2":"Basmati Reis","3":"private label","4":"Billa Bio"},{"1":"85599","2":"Bananen","3":"private label","4":"Clever"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Assume that you wanted to add an additional variable to the data frame. You may use the <code>$</code> notation to achieve this:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="data-handling.html#cb73-1" tabindex="-1"></a><span class="co"># Create new variable as the log of sales</span></span>
<span id="cb73-2"><a href="data-handling.html#cb73-2" tabindex="-1"></a>sales_data<span class="sc">$</span>log_sales <span class="ot">&lt;-</span> <span class="fu">log</span>(sales_data<span class="sc">$</span>top10_sales) </span>
<span id="cb73-3"><a href="data-handling.html#cb73-3" tabindex="-1"></a><span class="co"># Create an ascending count variable which might serve as an ID</span></span>
<span id="cb73-4"><a href="data-handling.html#cb73-4" tabindex="-1"></a>sales_data<span class="sc">$</span>obs_number <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(sales_data)</span>
<span id="cb73-5"><a href="data-handling.html#cb73-5" tabindex="-1"></a><span class="fu">head</span>(sales_data)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["top10_sales"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["top10_product_names"],"name":[2],"type":["chr"],"align":["left"]},{"label":["private_label"],"name":[3],"type":["fct"],"align":["left"]},{"label":["top10_brand"],"name":[4],"type":["fct"],"align":["left"]},{"label":["date_most_sold"],"name":[5],"type":["date"],"align":["right"]},{"label":["private_label_logical"],"name":[6],"type":["lgl"],"align":["right"]},{"label":["log_sales"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["obs_number"],"name":[8],"type":["int"],"align":["right"]}],"data":[{"1":"163608","2":"Bio-Kaisersemmel","3":"private label","4":"Ja! Natürlich","5":"2023-05-24","6":"TRUE","7":"12.00523","8":"1","_rn_":"1"},{"1":"126687","2":"Laktosefreie Bio-Vollmilch","3":"private label","4":"Ja! Natürlich","5":"2023-06-23","6":"TRUE","7":"11.74947","8":"2","_rn_":"2"},{"1":"120480","2":"Ottakringer Helles","3":"national brand","4":"Ottakringer","5":"2023-09-01","6":"FALSE","7":"11.69924","8":"3","_rn_":"3"},{"1":"110022","2":"Milka Ganze Haselnüsse","3":"national brand","4":"Milka","5":"2023-06-30","6":"FALSE","7":"11.60844","8":"4","_rn_":"4"},{"1":"108630","2":"Bio-Toastkäse Scheiben","3":"private label","4":"Ja! Natürlich","5":"2023-05-05","6":"TRUE","7":"11.59570","8":"5","_rn_":"5"},{"1":"95639","2":"Ottakringer Bio Zwickl","3":"national brand","4":"Ottakringer","5":"2023-06-09","6":"FALSE","7":"11.46834","8":"6","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>In order to add a function (e.g., <code>log</code>) of multiple existing variables to the <code>data.frame</code> use <code>mutate</code>. Multiple commands can be chained using so called pipes - operators that can be read as “then”. Since R version 4.1 there are native pipes (<code>|&gt;</code>) as well as the ones provided by the <code>tidyverse</code> (<code>%&gt;%</code>):</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="data-handling.html#cb74-1" tabindex="-1"></a>music_data_new <span class="ot">&lt;-</span> <span class="fu">mutate</span>(sales_data, </span>
<span id="cb74-2"><a href="data-handling.html#cb74-2" tabindex="-1"></a>       <span class="at">sqrt_sales =</span> <span class="fu">sqrt</span>(top10_sales),</span>
<span id="cb74-3"><a href="data-handling.html#cb74-3" tabindex="-1"></a>       <span class="co"># &quot;%m&quot; extracts the month, format returns a character so we convert it to integer</span></span>
<span id="cb74-4"><a href="data-handling.html#cb74-4" tabindex="-1"></a>       <span class="at">most_sales_month =</span> <span class="fu">as.integer</span>(<span class="fu">format</span>(date_most_sold, <span class="st">&quot;%m&quot;</span>)) </span>
<span id="cb74-5"><a href="data-handling.html#cb74-5" tabindex="-1"></a>       ) <span class="sc">%&gt;%</span></span>
<span id="cb74-6"><a href="data-handling.html#cb74-6" tabindex="-1"></a>  <span class="fu">select</span>(top10_product_names, sqrt_sales, most_sales_month)</span></code></pre></div>
<p>Two other important functions of <code>tidyverse</code> help calculating important summary statistics, such as totals, averages, etc. By using <code>group_by</code> function, we can ask R to pay attention to group-specific observations (e.g., by brand, label, date, …) to then obtain values of interest by calling <code>summarize</code>:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="data-handling.html#cb75-1" tabindex="-1"></a>sales_total <span class="ot">&lt;-</span> sales_data <span class="sc">%&gt;%</span> </span>
<span id="cb75-2"><a href="data-handling.html#cb75-2" tabindex="-1"></a>  <span class="fu">group_by</span>(top10_brand) <span class="sc">%&gt;%</span></span>
<span id="cb75-3"><a href="data-handling.html#cb75-3" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_sales =</span> <span class="fu">sum</span>(top10_sales), <span class="at">avg_sales =</span> <span class="fu">mean</span>(top10_sales))</span>
<span id="cb75-4"><a href="data-handling.html#cb75-4" tabindex="-1"></a><span class="fu">head</span>(sales_total)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["top10_brand"],"name":[1],"type":["fct"],"align":["left"]},{"label":["total_sales"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["avg_sales"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"Billa Bio","2":"87869","3":"87869.0"},{"1":"Clever","2":"85599","3":"85599.0"},{"1":"Ja! Natürlich","2":"487936","3":"121984.0"},{"1":"Julius Meinl","2":"94690","3":"94690.0"},{"1":"Milka","2":"110022","3":"110022.0"},{"1":"Ottakringer","2":"216119","3":"108059.5"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>You can also rename variables in a data frame, e.g., using the <code>rename()</code>-function. In the following code “::” signifies that the function “rename” should be taken from the package “dplyr” (note: this package is part of the <code>tidyverse</code>). This can be useful if multiple packages have a function with the same name. Calling a function this way also means that you can access a function without loading the entire package via <code>library()</code>.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="data-handling.html#cb76-1" tabindex="-1"></a>sales_data <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">rename</span>(sales_data, <span class="at">brand =</span> top10_brand)</span>
<span id="cb76-2"><a href="data-handling.html#cb76-2" tabindex="-1"></a><span class="fu">head</span>(sales_data)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["top10_sales"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["top10_product_names"],"name":[2],"type":["chr"],"align":["left"]},{"label":["private_label"],"name":[3],"type":["fct"],"align":["left"]},{"label":["brand"],"name":[4],"type":["fct"],"align":["left"]},{"label":["date_most_sold"],"name":[5],"type":["date"],"align":["right"]},{"label":["private_label_logical"],"name":[6],"type":["lgl"],"align":["right"]},{"label":["log_sales"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["obs_number"],"name":[8],"type":["int"],"align":["right"]}],"data":[{"1":"163608","2":"Bio-Kaisersemmel","3":"private label","4":"Ja! Natürlich","5":"2023-05-24","6":"TRUE","7":"12.00523","8":"1","_rn_":"1"},{"1":"126687","2":"Laktosefreie Bio-Vollmilch","3":"private label","4":"Ja! Natürlich","5":"2023-06-23","6":"TRUE","7":"11.74947","8":"2","_rn_":"2"},{"1":"120480","2":"Ottakringer Helles","3":"national brand","4":"Ottakringer","5":"2023-09-01","6":"FALSE","7":"11.69924","8":"3","_rn_":"3"},{"1":"110022","2":"Milka Ganze Haselnüsse","3":"national brand","4":"Milka","5":"2023-06-30","6":"FALSE","7":"11.60844","8":"4","_rn_":"4"},{"1":"108630","2":"Bio-Toastkäse Scheiben","3":"private label","4":"Ja! Natürlich","5":"2023-05-05","6":"TRUE","7":"11.59570","8":"5","_rn_":"5"},{"1":"95639","2":"Ottakringer Bio Zwickl","3":"national brand","4":"Ottakringer","5":"2023-06-09","6":"FALSE","7":"11.46834","8":"6","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Note that the same can be achieved using:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="data-handling.html#cb77-1" tabindex="-1"></a><span class="fu">names</span>(sales_data)[<span class="fu">names</span>(sales_data)<span class="sc">==</span><span class="st">&quot;brand&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;top10_brand&quot;</span></span>
<span id="cb77-2"><a href="data-handling.html#cb77-2" tabindex="-1"></a><span class="fu">head</span>(sales_data)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["top10_sales"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["top10_product_names"],"name":[2],"type":["chr"],"align":["left"]},{"label":["private_label"],"name":[3],"type":["fct"],"align":["left"]},{"label":["top10_brand"],"name":[4],"type":["fct"],"align":["left"]},{"label":["date_most_sold"],"name":[5],"type":["date"],"align":["right"]},{"label":["private_label_logical"],"name":[6],"type":["lgl"],"align":["right"]},{"label":["log_sales"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["obs_number"],"name":[8],"type":["int"],"align":["right"]}],"data":[{"1":"163608","2":"Bio-Kaisersemmel","3":"private label","4":"Ja! Natürlich","5":"2023-05-24","6":"TRUE","7":"12.00523","8":"1","_rn_":"1"},{"1":"126687","2":"Laktosefreie Bio-Vollmilch","3":"private label","4":"Ja! Natürlich","5":"2023-06-23","6":"TRUE","7":"11.74947","8":"2","_rn_":"2"},{"1":"120480","2":"Ottakringer Helles","3":"national brand","4":"Ottakringer","5":"2023-09-01","6":"FALSE","7":"11.69924","8":"3","_rn_":"3"},{"1":"110022","2":"Milka Ganze Haselnüsse","3":"national brand","4":"Milka","5":"2023-06-30","6":"FALSE","7":"11.60844","8":"4","_rn_":"4"},{"1":"108630","2":"Bio-Toastkäse Scheiben","3":"private label","4":"Ja! Natürlich","5":"2023-05-05","6":"TRUE","7":"11.59570","8":"5","_rn_":"5"},{"1":"95639","2":"Ottakringer Bio Zwickl","3":"national brand","4":"Ottakringer","5":"2023-06-09","6":"FALSE","7":"11.46834","8":"6","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Or by referring to the index of the variable:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="data-handling.html#cb78-1" tabindex="-1"></a><span class="fu">names</span>(sales_data)[<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="st">&quot;brand&quot;</span></span>
<span id="cb78-2"><a href="data-handling.html#cb78-2" tabindex="-1"></a><span class="fu">head</span>(sales_data)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["top10_sales"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["top10_product_names"],"name":[2],"type":["chr"],"align":["left"]},{"label":["private_label"],"name":[3],"type":["fct"],"align":["left"]},{"label":["brand"],"name":[4],"type":["fct"],"align":["left"]},{"label":["date_most_sold"],"name":[5],"type":["date"],"align":["right"]},{"label":["private_label_logical"],"name":[6],"type":["lgl"],"align":["right"]},{"label":["log_sales"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["obs_number"],"name":[8],"type":["int"],"align":["right"]}],"data":[{"1":"163608","2":"Bio-Kaisersemmel","3":"private label","4":"Ja! Natürlich","5":"2023-05-24","6":"TRUE","7":"12.00523","8":"1","_rn_":"1"},{"1":"126687","2":"Laktosefreie Bio-Vollmilch","3":"private label","4":"Ja! Natürlich","5":"2023-06-23","6":"TRUE","7":"11.74947","8":"2","_rn_":"2"},{"1":"120480","2":"Ottakringer Helles","3":"national brand","4":"Ottakringer","5":"2023-09-01","6":"FALSE","7":"11.69924","8":"3","_rn_":"3"},{"1":"110022","2":"Milka Ganze Haselnüsse","3":"national brand","4":"Milka","5":"2023-06-30","6":"FALSE","7":"11.60844","8":"4","_rn_":"4"},{"1":"108630","2":"Bio-Toastkäse Scheiben","3":"private label","4":"Ja! Natürlich","5":"2023-05-05","6":"TRUE","7":"11.59570","8":"5","_rn_":"5"},{"1":"95639","2":"Ottakringer Bio Zwickl","3":"national brand","4":"Ottakringer","5":"2023-06-09","6":"FALSE","7":"11.46834","8":"6","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>

</div>
</div>
</div>
<div id="data-import-and-export" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Data import and export<a href="data-handling.html#data-import-and-export" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Before you can start your analysis in R, you first need to import the data you wish to perform the analysis on. You will often be faced with different types of data formats (usually produced by some other statistical software like SPSS or Excel or a text editor). Fortunately, R is fairly flexible with respect to the sources from which data may be imported and you can import the most common data formats into R with the help of a few packages. R can, among others, handle data from the following sources:</p>
<p><img src="https://github.com/IMSMWU/Teaching/raw/master/MRDA2017/Graphics/data_import.JPG" /></p>
<p>In the previous chapter, we saw how we may use the keyboard to input data in R. In the following sections, we will learn how to import data from text files and other statistical software packages.</p>
<div id="getting-data-for-this-course" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Getting data for this course<a href="data-handling.html#getting-data-for-this-course" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Most of the data sets we will be working with in this course will be stored in text files (i.e., .dat, .txt, .csv). All data sets we will be working with are stored in a repository on GitHub (similar to other cloud storage services such as Dropbox). You can directly import these data sets from GitHub without having to copy data sets from one place to another. If you know the location, where the files are stored, you may conveniently load the data directly from GitHub into R using the <code>read.csv()</code> function. To figure out the structure of the data you can read the first couple of lines of a file using the <code>readLines</code> function. The <code>header=TRUE</code> argument in the <code>read.csv</code> function indicates that the first line of data represents the header, i.e., it contains the names of the columns. The <code>sep=";"</code>-argument specifies the delimiter (the character used to separate the columns), which is a “;” in this case.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="data-handling.html#cb79-1" tabindex="-1"></a><span class="fu">readLines</span>(<span class="st">&quot;https://short.wu.ac.at/ma22_musicdata&quot;</span>, <span class="at">n =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] &quot;\&quot;isrc\&quot;;\&quot;artist_id\&quot;;\&quot;streams\&quot;;\&quot;weeks_in_charts\&quot;;\&quot;n_regions\&quot;;\&quot;danceability\&quot;;\&quot;energy\&quot;;\&quot;speechiness\&quot;;\&quot;instrumentalness\&quot;;\&quot;liveness\&quot;;\&quot;valence\&quot;;\&quot;tempo\&quot;;\&quot;song_length\&quot;;\&quot;song_age\&quot;;\&quot;explicit\&quot;;\&quot;n_playlists\&quot;;\&quot;sp_popularity\&quot;;\&quot;youtube_views\&quot;;\&quot;tiktok_counts\&quot;;\&quot;ins_followers_artist\&quot;;\&quot;monthly_listeners_artist\&quot;;\&quot;playlist_total_reach_artist\&quot;;\&quot;sp_fans_artist\&quot;;\&quot;shazam_counts\&quot;;\&quot;artistName\&quot;;\&quot;trackName\&quot;;\&quot;release_date\&quot;;\&quot;genre\&quot;;\&quot;label\&quot;;\&quot;top10\&quot;;\&quot;expert_rating\&quot;&quot;
## [2] &quot;\&quot;BRRGE1603547\&quot;;3679;11944813;141;1;50,9;80,3;4;0,05;46,3;65,1;166,018;3,11865;228,285714285714;0;450;51;145030723;9740;29613108;4133393;24286416;3308630;73100;\&quot;Luan Santana\&quot;;\&quot;Eu, VocÃª, O Mar e Ela\&quot;;\&quot;2016-06-20\&quot;;\&quot;other\&quot;;\&quot;Independent\&quot;;1;\&quot;excellent\&quot;&quot;                                                                                                                                                                                                                                            
## [3] &quot;\&quot;USUM71808193\&quot;;5239;8934097;51;21;35,3;75,5;73,3;0;39;43,7;191,153;3,228;144,285714285714;0;768;54;13188411;358700;3693566;18367363;143384531;465412;588550;\&quot;Alessia Cara\&quot;;\&quot;Growing Pains\&quot;;\&quot;2018-06-14\&quot;;\&quot;Pop\&quot;;\&quot;Universal Music\&quot;;0;\&quot;good\&quot;&quot;</code></pre>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="data-handling.html#cb81-1" tabindex="-1"></a>test_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;https://short.wu.ac.at/ma22_musicdata&quot;</span>, </span>
<span id="cb81-2"><a href="data-handling.html#cb81-2" tabindex="-1"></a>                        <span class="at">sep =</span> <span class="st">&quot;;&quot;</span>, </span>
<span id="cb81-3"><a href="data-handling.html#cb81-3" tabindex="-1"></a>                        <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb81-4"><a href="data-handling.html#cb81-4" tabindex="-1"></a><span class="fu">head</span>(test_data)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["isrc"],"name":[1],"type":["chr"],"align":["left"]},{"label":["artist_id"],"name":[2],"type":["int"],"align":["right"]},{"label":["streams"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["weeks_in_charts"],"name":[4],"type":["int"],"align":["right"]},{"label":["n_regions"],"name":[5],"type":["int"],"align":["right"]},{"label":["danceability"],"name":[6],"type":["chr"],"align":["left"]},{"label":["energy"],"name":[7],"type":["chr"],"align":["left"]},{"label":["speechiness"],"name":[8],"type":["chr"],"align":["left"]},{"label":["instrumentalness"],"name":[9],"type":["chr"],"align":["left"]},{"label":["liveness"],"name":[10],"type":["chr"],"align":["left"]},{"label":["valence"],"name":[11],"type":["chr"],"align":["left"]},{"label":["tempo"],"name":[12],"type":["chr"],"align":["left"]},{"label":["song_length"],"name":[13],"type":["chr"],"align":["left"]},{"label":["song_age"],"name":[14],"type":["chr"],"align":["left"]},{"label":["explicit"],"name":[15],"type":["int"],"align":["right"]},{"label":["n_playlists"],"name":[16],"type":["int"],"align":["right"]},{"label":["sp_popularity"],"name":[17],"type":["int"],"align":["right"]},{"label":["youtube_views"],"name":[18],"type":["dbl"],"align":["right"]},{"label":["tiktok_counts"],"name":[19],"type":["int"],"align":["right"]},{"label":["ins_followers_artist"],"name":[20],"type":["int"],"align":["right"]},{"label":["monthly_listeners_artist"],"name":[21],"type":["int"],"align":["right"]},{"label":["playlist_total_reach_artist"],"name":[22],"type":["int"],"align":["right"]},{"label":["sp_fans_artist"],"name":[23],"type":["int"],"align":["right"]},{"label":["shazam_counts"],"name":[24],"type":["int"],"align":["right"]},{"label":["artistName"],"name":[25],"type":["chr"],"align":["left"]},{"label":["trackName"],"name":[26],"type":["chr"],"align":["left"]},{"label":["release_date"],"name":[27],"type":["chr"],"align":["left"]},{"label":["genre"],"name":[28],"type":["chr"],"align":["left"]},{"label":["label"],"name":[29],"type":["chr"],"align":["left"]},{"label":["top10"],"name":[30],"type":["int"],"align":["right"]},{"label":["expert_rating"],"name":[31],"type":["chr"],"align":["left"]}],"data":[{"1":"BRRGE1603547","2":"3679","3":"11944813","4":"141","5":"1","6":"50,9","7":"80,3","8":"4","9":"0,05","10":"46,3","11":"65,1","12":"166,018","13":"3,11865","14":"228,285714285714","15":"0","16":"450","17":"51","18":"145030723","19":"9740","20":"29613108","21":"4133393","22":"24286416","23":"3308630","24":"73100","25":"Luan Santana","26":"Eu, VocÃª, O Mar e Ela","27":"2016-06-20","28":"other","29":"Independent","30":"1","31":"excellent"},{"1":"USUM71808193","2":"5239","3":"8934097","4":"51","5":"21","6":"35,3","7":"75,5","8":"73,3","9":"0","10":"39","11":"43,7","12":"191,153","13":"3,228","14":"144,285714285714","15":"0","16":"768","17":"54","18":"13188411","19":"358700","20":"3693566","21":"18367363","22":"143384531","23":"465412","24":"588550","25":"Alessia Cara","26":"Growing Pains","27":"2018-06-14","28":"Pop","29":"Universal Music","30":"0","31":"good"},{"1":"ES5701800181","2":"776407","3":"38835","4":"1","5":"1","6":"68,3","7":"67,6","8":"14,7","9":"0","10":"7,26","11":"43,4","12":"98,992","13":"3,01555","14":"112,285714285714","15":"0","16":"48","17":"32","18":"6116639","19":"0","20":"623778","21":"888273","22":"4846378","23":"23846","24":"0","25":"Ana Guerra","26":"El Remedio","27":"2018-04-26","28":"Pop","29":"Universal Music","30":"0","31":"good"},{"1":"ITRSE2000050","2":"433730","3":"46766","4":"1","5":"1","6":"70,4","7":"56,8","8":"26,8","9":"0,000253","10":"8,91","11":"49,5","12":"91,007","13":"3,45341666666667","14":"50,7142857142857","15":"0","16":"6","17":"44","18":"0","19":"13","20":"81601","21":"143761","22":"156521","23":"1294","24":"0","25":"Claver Gold feat. Murubutu","26":"Ulisse","27":"2020-03-31","28":"HipHop/Rap","29":"Independent","30":"0","31":"poor"},{"1":"QZJ842000061","2":"526471","3":"2930573","4":"7","5":"4","6":"84,2","7":"57,8","8":"13,8","9":"0","10":"22,8","11":"19","12":"74,496","13":"3,94631666666667","14":"58,2857142857143","15":"0","16":"475","17":"52","18":"0","19":"515","20":"11962358","21":"15551876","22":"90841884","23":"380204","24":"55482","25":"Trippie Redd feat. Young Thug","26":"YELL OH","27":"2020-02-07","28":"HipHop/Rap","29":"Universal Music","30":"0","31":"excellent"},{"1":"USIR20400274","2":"1939","3":"72199738","4":"226","5":"8","6":"35,2","7":"91,1","8":"7,47","9":"0","10":"9,95","11":"23,6","12":"148,033","13":"3,71621666666667","14":"876,714285714286","15":"0","16":"20591","17":"81","18":"20216069","19":"67300","20":"1169284","21":"16224250","22":"80408253","23":"1651866","24":"5281161","25":"The Killers","26":"Mr. Brightside","27":"2004-06-07","28":"Rock","29":"Universal Music","30":"1","31":"fair"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Note that it is also possible to download the data, placing it in the working directory and importing it from there. However, this requires an additional step to download the file manually first. If you chose this option, please <strong>remember to put the data file in the working directory first</strong>. If the import is not working, check your working directory setting using <code>getwd()</code>. Once you placed the file in the working directory, you can import it using the same command as above. Note that the file must be given as a character string (i.e., in quotation marks) and has to end with the file extension (e.g., .csv, .tsv, etc.).</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="data-handling.html#cb82-1" tabindex="-1"></a>test_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/music_data_fin.csv&quot;</span>, <span class="at">header=</span><span class="cn">TRUE</span>, <span class="at">sep =</span> <span class="st">&quot;;&quot;</span>)</span>
<span id="cb82-2"><a href="data-handling.html#cb82-2" tabindex="-1"></a><span class="fu">head</span>(test_data)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["isrc"],"name":[1],"type":["chr"],"align":["left"]},{"label":["artist_id"],"name":[2],"type":["int"],"align":["right"]},{"label":["streams"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["weeks_in_charts"],"name":[4],"type":["int"],"align":["right"]},{"label":["n_regions"],"name":[5],"type":["int"],"align":["right"]},{"label":["danceability"],"name":[6],"type":["chr"],"align":["left"]},{"label":["energy"],"name":[7],"type":["chr"],"align":["left"]},{"label":["speechiness"],"name":[8],"type":["chr"],"align":["left"]},{"label":["instrumentalness"],"name":[9],"type":["chr"],"align":["left"]},{"label":["liveness"],"name":[10],"type":["chr"],"align":["left"]},{"label":["valence"],"name":[11],"type":["chr"],"align":["left"]},{"label":["tempo"],"name":[12],"type":["chr"],"align":["left"]},{"label":["song_length"],"name":[13],"type":["chr"],"align":["left"]},{"label":["song_age"],"name":[14],"type":["chr"],"align":["left"]},{"label":["explicit"],"name":[15],"type":["int"],"align":["right"]},{"label":["n_playlists"],"name":[16],"type":["int"],"align":["right"]},{"label":["sp_popularity"],"name":[17],"type":["int"],"align":["right"]},{"label":["youtube_views"],"name":[18],"type":["dbl"],"align":["right"]},{"label":["tiktok_counts"],"name":[19],"type":["int"],"align":["right"]},{"label":["ins_followers_artist"],"name":[20],"type":["int"],"align":["right"]},{"label":["monthly_listeners_artist"],"name":[21],"type":["int"],"align":["right"]},{"label":["playlist_total_reach_artist"],"name":[22],"type":["int"],"align":["right"]},{"label":["sp_fans_artist"],"name":[23],"type":["int"],"align":["right"]},{"label":["shazam_counts"],"name":[24],"type":["int"],"align":["right"]},{"label":["artistName"],"name":[25],"type":["chr"],"align":["left"]},{"label":["trackName"],"name":[26],"type":["chr"],"align":["left"]},{"label":["release_date"],"name":[27],"type":["chr"],"align":["left"]},{"label":["genre"],"name":[28],"type":["chr"],"align":["left"]},{"label":["label"],"name":[29],"type":["chr"],"align":["left"]},{"label":["top10"],"name":[30],"type":["int"],"align":["right"]},{"label":["expert_rating"],"name":[31],"type":["chr"],"align":["left"]}],"data":[{"1":"BRRGE1603547","2":"3679","3":"11944813","4":"141","5":"1","6":"50,9","7":"80,3","8":"4","9":"0,05","10":"46,3","11":"65,1","12":"166,018","13":"3,11865","14":"228,285714285714","15":"0","16":"450","17":"51","18":"145030723","19":"9740","20":"29613108","21":"4133393","22":"24286416","23":"3308630","24":"73100","25":"Luan Santana","26":"Eu, VocÃª, O Mar e Ela","27":"2016-06-20","28":"other","29":"Independent","30":"1","31":"excellent"},{"1":"USUM71808193","2":"5239","3":"8934097","4":"51","5":"21","6":"35,3","7":"75,5","8":"73,3","9":"0","10":"39","11":"43,7","12":"191,153","13":"3,228","14":"144,285714285714","15":"0","16":"768","17":"54","18":"13188411","19":"358700","20":"3693566","21":"18367363","22":"143384531","23":"465412","24":"588550","25":"Alessia Cara","26":"Growing Pains","27":"2018-06-14","28":"Pop","29":"Universal Music","30":"0","31":"good"},{"1":"ES5701800181","2":"776407","3":"38835","4":"1","5":"1","6":"68,3","7":"67,6","8":"14,7","9":"0","10":"7,26","11":"43,4","12":"98,992","13":"3,01555","14":"112,285714285714","15":"0","16":"48","17":"32","18":"6116639","19":"0","20":"623778","21":"888273","22":"4846378","23":"23846","24":"0","25":"Ana Guerra","26":"El Remedio","27":"2018-04-26","28":"Pop","29":"Universal Music","30":"0","31":"good"},{"1":"ITRSE2000050","2":"433730","3":"46766","4":"1","5":"1","6":"70,4","7":"56,8","8":"26,8","9":"0,000253","10":"8,91","11":"49,5","12":"91,007","13":"3,45341666666667","14":"50,7142857142857","15":"0","16":"6","17":"44","18":"0","19":"13","20":"81601","21":"143761","22":"156521","23":"1294","24":"0","25":"Claver Gold feat. Murubutu","26":"Ulisse","27":"2020-03-31","28":"HipHop/Rap","29":"Independent","30":"0","31":"poor"},{"1":"QZJ842000061","2":"526471","3":"2930573","4":"7","5":"4","6":"84,2","7":"57,8","8":"13,8","9":"0","10":"22,8","11":"19","12":"74,496","13":"3,94631666666667","14":"58,2857142857143","15":"0","16":"475","17":"52","18":"0","19":"515","20":"11962358","21":"15551876","22":"90841884","23":"380204","24":"55482","25":"Trippie Redd feat. Young Thug","26":"YELL OH","27":"2020-02-07","28":"HipHop/Rap","29":"Universal Music","30":"0","31":"excellent"},{"1":"USIR20400274","2":"1939","3":"72199738","4":"226","5":"8","6":"35,2","7":"91,1","8":"7,47","9":"0","10":"9,95","11":"23,6","12":"148,033","13":"3,71621666666667","14":"876,714285714286","15":"0","16":"20591","17":"81","18":"20216069","19":"67300","20":"1169284","21":"16224250","22":"80408253","23":"1651866","24":"5281161","25":"The Killers","26":"Mr. Brightside","27":"2004-06-07","28":"Rock","29":"Universal Music","30":"1","31":"fair"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="export-data" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Export data<a href="data-handling.html#export-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Exporting to different formats is also easy, as you can just replace “read” with “write” in many of the previously discussed functions (e.g. <code>write.csv(object, "file_name")</code>). This will save the data file to the working directory. To check what the current working directory is you can use <code>getwd()</code>. By default, the <code>write.csv(object, "file_name")</code>function includes the row number as the first variable. By specifying <code>row.names = FALSE</code>, you may exclude this variable since it doesn’t contain any useful information.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="data-handling.html#cb83-1" tabindex="-1"></a><span class="fu">write.csv</span>(music_data, <span class="st">&quot;musicData.csv&quot;</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)  <span class="co">#writes to a comma-separated value file </span></span>
<span id="cb83-2"><a href="data-handling.html#cb83-2" tabindex="-1"></a><span class="fu">write_sav</span>(music_data, <span class="st">&quot;musicData.sav&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="learning-check-1" class="section level2 unnumbered hasAnchor">
<h2>Learning check<a href="data-handling.html#learning-check-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>(LC3.1) Which of the following are data types are recognized by R?</strong></p>
<ul class="task-list">
<li><label><input type="checkbox" checked="" />Factor</label></li>
<li><label><input type="checkbox" checked="" />Date</label></li>
<li><label><input type="checkbox" />Decimal</label></li>
<li><label><input type="checkbox" />Vector</label></li>
<li><label><input type="checkbox" />None of the above</label></li>
</ul>
<p><strong>(LC3.2) What function should you use to check if an object is a data frame?</strong></p>
<ul class="task-list">
<li><label><input type="checkbox" /><code>type()</code></label></li>
<li><label><input type="checkbox" /><code>str()</code></label></li>
<li><label><input type="checkbox" checked="" /><code>class()</code></label></li>
<li><label><input type="checkbox" /><code>object.type()</code></label></li>
<li><label><input type="checkbox" />None of the above</label></li>
</ul>
<p><strong>(LC3.3) You would like to combine three vectors (student, grade, date) in a data frame. What would happen when executing the following code?</strong></p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="data-handling.html#cb84-1" tabindex="-1"></a>student <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Max&quot;</span>, <span class="st">&quot;Jonas&quot;</span>, <span class="st">&quot;Saskia&quot;</span>, <span class="st">&quot;Victoria&quot;</span>)</span>
<span id="cb84-2"><a href="data-handling.html#cb84-2" tabindex="-1"></a>grade <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb84-3"><a href="data-handling.html#cb84-3" tabindex="-1"></a>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="fu">c</span>(<span class="st">&quot;2020-10-06&quot;</span>, <span class="st">&quot;2020-10-08&quot;</span>, <span class="st">&quot;2020-10-09&quot;</span>))</span>
<span id="cb84-4"><a href="data-handling.html#cb84-4" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(student, grade, date)</span></code></pre></div>
<ul class="task-list">
<li><label><input type="checkbox" />Error because a data frame can not have different data types</label></li>
<li><label><input type="checkbox" />Error because you should use <code>as.data.frame()</code> instead of <code>data.frame()</code></label></li>
<li><label><input type="checkbox" checked="" />Error because all vectors need to have the same length</label></li>
<li><label><input type="checkbox" />Error because the column names are not specified</label></li>
<li><label><input type="checkbox" />This code should not report an error</label></li>
</ul>
<p><strong>You would like to analyze the following data frame</strong></p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["student"],"name":[1],"type":["chr"],"align":["left"]},{"label":["grade"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["country"],"name":[3],"type":["chr"],"align":["left"]}],"data":[{"1":"Christian","2":"1","3":"AT"},{"1":"Matthias","2":"1","3":"AT"},{"1":"Max","2":"NA","3":"AT"},{"1":"Christina","2":"3","3":"AT"},{"1":"Ines","2":"2","3":"DE"},{"1":"Eddie","2":"1","3":"DE"},{"1":"Janine","2":"2","3":"DE"},{"1":"Victoria","2":"3","3":"SK"},{"1":"Pia","2":"1","3":"US"},{"1":"Julia","2":"2","3":"CA"},{"1":"Lena","2":"3","3":"AT"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p><strong>(LC3.4) How can you obtain Christina’s grade from the data frame?</strong></p>
<ul class="task-list">
<li><label><input type="checkbox" checked="" /><code>df[4,2]</code></label></li>
<li><label><input type="checkbox" /><code>df[2,4]</code></label></li>
<li><label><input type="checkbox" /><code>filter(df, student = Christina) %&gt;% select(grade)</code></label></li>
<li><label><input type="checkbox" checked="" /><code>filter(df, student == "Christina") %&gt;% select(grade)</code></label></li>
<li><label><input type="checkbox" />None of the above</label></li>
</ul>
<p><strong>(LC3.5) How can you add a new variable ‘student_id’ to the data frame that assigns numbers to students in an ascending order?</strong></p>
<ul class="task-list">
<li><label><input type="checkbox" checked="" /><code>df$student_id &lt;- 1:nrow(df)</code></label></li>
<li><label><input type="checkbox" /><code>df&amp;student_id &lt;- 1:nrow(df)</code></label></li>
<li><label><input type="checkbox" checked="" /><code>mutate(df, student_id = 1:nrow(df))</code></label></li>
<li><label><input type="checkbox" /><code>mutate(df, student_id = 1:length(df))</code></label></li>
<li><label><input type="checkbox" />None of the above</label></li>
</ul>
<p><strong>(LC3.6) How could you obtain all rows with students who obtained a 1?</strong></p>
<ul class="task-list">
<li><label><input type="checkbox" checked="" /><code>filter(df, grade == 1)</code></label></li>
<li><label><input type="checkbox" checked="" /><code>filter(df, grade == min(df$grade, na.rm = TRUE))</code></label></li>
<li><label><input type="checkbox" /><code>select(df, grade == 1)</code></label></li>
<li><label><input type="checkbox" /><code>filter(df, grade == min(df$grade))</code></label></li>
<li><label><input type="checkbox" />None of the above</label></li>
</ul>
<p><strong>(LC3.7) How could you create a subset of observations where the grade is not missing (NA) </strong></p>
<ul class="task-list">
<li><label><input type="checkbox" checked="" /><code>df_subset &lt;- filter(df, !is.na(grade))</code></label></li>
<li><label><input type="checkbox" /><code>df_subset &lt;- filter(df, isnot.na(grade))</code></label></li>
<li><label><input type="checkbox" /><code>df_subset &lt;- filter(df, grade != NA)</code></label></li>
<li><label><input type="checkbox" /><code>df_subset &lt;- filter(df, grade != "NA")</code></label></li>
<li><label><input type="checkbox" />None of the above</label></li>
</ul>
<p><strong>(LC3.8) What is the share of students with a grade better than 3?</strong></p>
<ul class="task-list">
<li><label><input type="checkbox" /><code>filter(df, grade &lt; 3)/nrow(df)</code></label></li>
<li><label><input type="checkbox" /><code>nrow(filter(df, grade &lt; 3))/length(df)</code></label></li>
<li><label><input type="checkbox" checked="" /><code>nrow(filter(df, grade &lt; 3))/nrow(df)</code></label></li>
<li><label><input type="checkbox" /><code>filter(df, grade &lt; 3)/length(df)</code></label></li>
<li><label><input type="checkbox" />None of the above</label></li>
</ul>
<p><strong>(LC3.9) You would like to load a .csv file from your working directory. What function would you use do it?</strong></p>
<ul class="task-list">
<li><label><input type="checkbox" /><code>read.table(file_name.csv)</code></label></li>
<li><label><input type="checkbox" /><code>load.csv("file.csv")</code></label></li>
<li><label><input type="checkbox" checked="" /><code>read.table("file.csv")</code></label></li>
<li><label><input type="checkbox" /><code>get.table(file_name.csv)</code></label></li>
<li><label><input type="checkbox" />None of the above</label></li>
</ul>
<p><strong>(LC3.10) After you loaded the file, you would like to inspect the types of data contained in it. How would you do it?</strong></p>
<ul class="task-list">
<li><label><input type="checkbox" /><code>ncol(df)</code></label></li>
<li><label><input type="checkbox" /><code>nrow(df)</code></label></li>
<li><label><input type="checkbox" /><code>dim(df)</code></label></li>
<li><label><input type="checkbox" checked="" /><code>str(df)</code></label></li>
<li><label><input type="checkbox" />None of the above</label></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="getting-started-with-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="summarizing-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
